{"version":3,"file":"groups/view.js","mappings":"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","sources":["webpack://groww-buddy-blocks/./src/groups/view.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    const elements = document.querySelectorAll('.wp-block-groww-buddy-groups');\n\n    elements.forEach(element => {\n        const attributes = JSON.parse(element.getAttribute('data-attributes'));\n\n        const fetchGroups = async () => {\n            try {\n                const { search, perPage, currentPage, order, orderBy, type } = attributes.groupsSettings;\n                const queryParams = new URLSearchParams({\n                    per_page: perPage,\n                    page: currentPage,\n                    orderby: orderBy,\n                    order: order,\n                    ...(type && { type }),\n                    ...(search && { search })\n                });\n\n                const response = await fetch(`/wp-json/buddyboss/v1/groups?${queryParams.toString()}`, {\n                    headers: {\n                        'X-WP-Nonce': GrowwBuddyData.nonce\n                    }\n                });\n\n                if (!response.ok) throw new Error('Network response was not ok');\n\n                const groups = await response.json();\n                const totalPages = response.headers.get('X-WP-TotalPages');\n                const totalGroups = response.headers.get('X-WP-Total');\n\n                element.innerHTML = ''; // Clear the placeholder content\n\n                if (groups.length > 0) {\n                    const groupList = document.createElement('div');\n                    groupList.classList.add('group-list');\n\n                    groups.forEach(group => {\n                        const metas = [];\n                        const groupStatusLabels = {\n                            public: 'Public',\n                            private: 'Private',\n                            hidden: 'Hidden',\n                        };\n                        const getGroupStatus = status => groupStatusLabels[status] || '';\n\n                        if (getGroupStatus(group.status)) {\n                            metas.push(getGroupStatus(group.status));\n                        }\n                        if (group.growwbuddy_data.last_activity) {\n                            metas.push(group.growwbuddy_data.last_activity);\n                        }\n                        if (group.members_count) {\n                            metas.push(`${group.members_count} Members`);\n                        }\n\n                        const tmpl = wp.template('groww-buddy-group-item');\n\n                        const groupHtml = tmpl({ group, groupsLayout: attributes.groupsStyles.groupsLayout, metas });\n                        const groupElement = document.createElement('div');\n                        groupElement.innerHTML = groupHtml;\n\n                        groupList.appendChild(groupElement.firstChild);\n                    });\n\n                    element.appendChild(groupList);\n                } else {\n                    element.innerHTML = '<p>No groups found.</p>';\n                }\n            } catch (error) {\n                console.error('Error fetching groups:', error);\n                element.innerHTML = '<p>Error loading groups.</p>';\n            }\n        };\n\n        fetchGroups();\n    });\n});\n"],"names":["document","addEventListener","elements","querySelectorAll","forEach","element","attributes","JSON","parse","getAttribute","fetchGroups","search","perPage","currentPage","order","orderBy","type","groupsSettings","queryParams","URLSearchParams","per_page","page","orderby","response","fetch","toString","headers","GrowwBuddyData","nonce","ok","Error","groups","json","totalPages","get","totalGroups","innerHTML","length","groupList","createElement","classList","add","group","metas","groupStatusLabels","public","private","hidden","getGroupStatus","status","push","growwbuddy_data","last_activity","members_count","tmpl","wp","template","groupHtml","groupsLayout","groupsStyles","groupElement","appendChild","firstChild","error","console"],"sourceRoot":""}